@model IEnumerable<WebBanGiay.Models.OrderDetail>

@{
    ViewBag.Title = "Danh sách chi tiết đơn hàng";
    Layout = "~/Areas/NhanVienBanHang/Views/Shared/_Layout_NVBH.cshtml";
}

<div class="container" style="max-width: 1100px; margin: 0 auto;">
    <h2 class="mb-4 text-center" style="font-weight: bold; color: #2d3748; letter-spacing: 1px;">Danh sách chi tiết đơn hàng</h2>
    <div class="mb-3 text-right">
        @Html.ActionLink("Tạo mới", "Create", null, new { @class = "btn btn-success" })
    </div>
    <div class="table-responsive">
        <table class="table table-bordered table-hover" style="background: #fff; border-radius: 12px; overflow: hidden;">
            <thead style="background: linear-gradient(90deg, #667eea 0%, #764ba2 100%); color: #fff;">
                <tr style="text-align: center;">
                    <th>Số lượng</th>
                    <th>Đơn giá</th>
                    <th>Thành tiền</th>
                    <th>Mã đơn hàng</th>
                    <th>Mã SKU</th>
                    <th>Thao tác</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr style="text-align: center; vertical-align: middle;">
                        <td>
                            <span class="badge badge-@(item.Quantity >= 10 ? "danger" : "primary")" style="font-size:1em;">@item.Quantity</span>
                        </td>
                        <td>@item.UnitPrice.ToString("N0") VNĐ</td>
                        <td>@item.TotalPrice.ToString("N0") VNĐ</td>
                        <td>@item.Order?.OrderNumber</td>
                        <td>@item.ProductVariant?.SKU</td>
                        <td>
                            @Html.ActionLink("Chi tiết", "Details", new { id = item.OrderDetailID }, new { @class = "btn btn-sm btn-info ml-1" })
                            @Html.ActionLink("Xem lịch sử đơn hàng", "HistoryByCustomer",new {id = item.OrderID}, new { @class = "btn btn-sm btn-info ml-1" })
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<style>
    .badge-primary {
        background-color: #3182ce;
        color: #fff;
        padding: 0.4em 0.8em;
        border-radius: 8px;
    }
    .badge-danger {
        background-color: #e53e3e;
        color: #fff;
        padding: 0.4em 0.8em;
        border-radius: 8px;
    }
    .table thead th {
        vertical-align: middle;
        font-size: 1.05em;
        letter-spacing: 0.5px;
    }
    .table td, .table th {
        vertical-align: middle;
        font-size: 1em;
    }
    .btn {
        min-width: 70px;
    }
    .ml-1 { margin-left: 0.5em; }
    @@media (max-width: 768px) {
        .table-responsive { font-size: 0.95em; }
        .mb-4, .mb-3 { margin-bottom: 1rem !important; }
    }
</style>
